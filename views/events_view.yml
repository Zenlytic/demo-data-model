version: 1
type: view
name: events
model_name: base_model
sql_table_name: demo_raw.site_events
default_date: event
row_label: Event
event_dimension: event_name

fields:
- name: event_id
  field_type: dimension
  type: string
  sql: ${TABLE}.EVENT_ID
  primary_key: yes
  hidden: yes

- name: anonymous_id
  field_type: dimension
  type: string
  sql: ${TABLE}.ANONYMOUS_ID
  tags: ['customer']
  hidden: yes

- name: click_id
  field_type: dimension
  type: string
  sql: ${TABLE}.CLICK_ID
  hidden: yes

- name: customer_id
  field_type: dimension
  type: string
  sql: ${TABLE}.CUSTOMER_ID
  hidden: yes

- name: session_id
  field_type: dimension
  type: string
  sql: ${TABLE}.SESSION_ID
  hidden: yes

- name: device_is_mobile
  field_type: dimension
  type: yesno
  sql: ${TABLE}.DEVICE_IS_MOBILE

- name: os_name
  field_type: dimension
  type: string
  sql: ${TABLE}.OS_NAME

- name: browser_user_agent
  field_type: dimension
  type: string
  sql: ${TABLE}.BROWSER_USER_AGENT

- name: geo_latitude
  field_type: dimension
  type: string
  sql: ${TABLE}.GEO_LATITUDE

- name: utm_medium
  field_type: dimension
  type: string
  sql: ${TABLE}.UTM_MEDIUM

- name: utm_source
  field_type: dimension
  type: string
  sql: ${TABLE}.UTM_SOURCE

- name: device_type
  field_type: dimension
  type: string
  sql: ${TABLE}.DEVICE_TYPE

- name: browser_language
  field_type: dimension
  type: string
  sql: ${TABLE}.BROWSER_LANGUAGE

- name: promotion
  field_type: dimension
  type: string
  sql: ${TABLE}.PROMOTION

- name: geo_country
  field_type: dimension
  type: string
  sql: ${TABLE}.GEO_COUNTRY

- name: os_timezone
  field_type: dimension
  type: string
  sql: ${TABLE}.OS_TIMEZONE

- name: geo_region_name
  field_type: dimension
  type: string
  sql: ${TABLE}.GEO_REGION_NAME

- name: page_url
  field_type: dimension
  type: string
  sql: ${TABLE}.PAGE_URL

- name: marketing_channel
  field_type: dimension
  type: string
  sql: ${TABLE}.MARKETING_CHANNEL

- name: geo_longitude
  field_type: dimension
  type: string
  sql: ${TABLE}.GEO_LONGITUDE

- name: referer_url
  field_type: dimension
  type: string
  sql: ${TABLE}.REFERER_URL

- name: ip_address
  field_type: dimension
  type: string
  sql: ${TABLE}.IP_ADDRESS

- name: referer_url_scheme
  field_type: dimension
  type: string
  sql: ${TABLE}.REFERER_URL_SCHEME

- name: browser_name
  field_type: dimension
  type: string
  sql: ${TABLE}.BROWSER_NAME

- name: geo_timezone
  field_type: dimension
  type: string
  sql: ${TABLE}.GEO_TIMEZONE

- name: os
  field_type: dimension
  type: string
  sql: ${TABLE}.OS

- name: referer_url_port
  field_type: dimension
  type: string
  sql: ${TABLE}.REFERER_URL_PORT

- name: referer_medium
  field_type: dimension
  type: string
  sql: ${TABLE}.REFERER_MEDIUM

- name: event_name
  field_type: dimension
  type: string
  sql: ${TABLE}.EVENT_NAME

- name: page_url_path
  field_type: dimension
  type: string
  sql: ${TABLE}.PAGE_URL_PATH

- name: utm_campaign
  field_type: dimension
  type: string
  sql: ${TABLE}.UTM_CAMPAIGN

- name: event
  field_type: dimension_group
  type: time
  datatype: timestamp
  timeframes:
  - raw
  - date
  - week
  - month
  - quarter
  - year
  sql: ${TABLE}.EVENT_TIMESTAMP

- name: number_of_events
  field_type: measure
  type: count

- name: number_of_sessions
  field_type: measure
  type: count_distinct
  sql: ${session_id}

- name: number_of_users
  field_type: measure
  type: count_distinct
  sql: ${anonymous_id}
  extra:
    zenlytic.show: yes

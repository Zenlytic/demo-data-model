version: 1
type: view
name: order_lines
model_name: base_model
sql_table_name: DEMO_RAW.ORDER_LINES
default_date: order_at
row_label: TODO - Label row
fields:
- name: order_line_id
  field_type: dimension
  type: string
  sql: ${TABLE}.ORDER_LINE_ID
  primary_key: yes
  hidden: yes

- name: customer_id
  field_type: dimension
  type: string
  sql: ${TABLE}.CUSTOMER_ID

- name: order_id
  field_type: dimension
  type: string
  sql: ${TABLE}.ORDER_ID

- name: product_id
  field_type: dimension
  type: string
  sql: ${TABLE}.PRODUCT_ID

- name: discount
  field_type: dimension
  type: string
  sql: ${TABLE}.DISCOUNT

- name: campaign
  field_type: dimension
  type: string
  sql: ${TABLE}.CAMPAIGN

- name: revenue
  field_type: dimension
  type: string
  sql: ${TABLE}.REVENUE

- name: promotion
  field_type: dimension
  type: string
  sql: ${TABLE}.PROMOTION

- name: price
  field_type: dimension
  type: string
  sql: ${TABLE}.PRICE

- name: subscription_vs_otp
  field_type: dimension
  type: string
  sql: ${TABLE}.SUBSCRIPTION_VS_OTP

- name: quantity
  field_type: dimension
  type: string
  sql: ${TABLE}.QUANTITY

- name: marketing_source
  field_type: dimension
  type: string
  sql: ${TABLE}.MARKETING_SOURCE

- name: marketing_channel
  field_type: dimension
  type: string
  sql: ${TABLE}.MARKETING_CHANNEL

- name: order_at
  field_type: dimension_group
  type: time
  datatype: timestamp
  timeframes:
  - raw
  - date
  - week
  - month
  - quarter
  - year
  sql: ${TABLE}.ORDER_AT

- name: total_gross_revenue
  field_type: measure
  type: sum
  sql: ${revenue}
  description: "Total gross revenue = revenue from product sales + shipping revenues"
  extra:
    zenlytic.show: yes
